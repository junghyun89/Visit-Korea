{% extends 'layout.html' %}

{% block content %}
  <li class="icon review">
    <i class="fa-regular fa-comment-dots"></i>
    <p>리뷰</p>
    <p class="number">0</p>
  </li>
  <div class="review-form hide">
    <div class="popup-wrap"></div>
    <div class="form-box">
      <h4>Review</h4>
      <p class="form-alert"></p>
      <form>
        <div class="rate-field">
          <label for="email">평가</label>
          <span class="star">
            ★★★★★
            <span>★★★★★</span>
            <input type="range" value="1" step="1" min="0" max="10">
          </span>
        </div>
        <div class="review-field">
          <label for="review">리뷰</label>
          <textarea
            type="text"
            name="review"
            id="review"
            required
          ></textarea>
        </div>
        <div class="password-field">
          <label for="password">여행 사진</label>
          <input
            type="password"
            name="password"
            class="register-input"
            placeholder="password"
            id="password"
            required
          />
        </div>
        <button type="submit" class="btn submit-btn">등록</button>
      </form>
  </div>
{% endblock %}
{% block script %}
  <script>
    const star = document.querySelector('.star span');
    const input = document.querySelector('.star input');
    input.addEventListener('input', (e) => {
      star.style.width = `${e.target.value * 10}%`;
    })
    const reviewBtn = document.querySelector('.review');
    reviewBtn.addEventListener('click', () => {
      const reviewBox = document.querySelector(".details.review");
      reviewBox.scrollIntoView()
    })

    // window.addEventListener('load', async () => {
    //   try {
    //     const result = await axios({
    //       method: 'get',
    //       url: `https://apis.data.go.kr/B551011/KorService/areaBasedList?serviceKey={{serviceKey}}&arrange=O&contentTypeId=12&areaCode=1&MobileOS=ETC&MobileApp=AppTest&_type=json&listYN=Y&arrange=C`,
    //     })
    //     console.log(result.data.response.body.items.item)
    //     const regionTag = document.querySelector('.region') 
    //     const titles = result.data.response.body.items.item
    //     const resultTag = document.querySelector('.result');
    //     const span = document.createElement('span')
    //     span.innerText = ` ${titles.length}건`
    //     regionTag.appendChild(span)
    //     titles.forEach(el => {
    //       const div = document.createElement('div')
    //       const p = document.createElement('p');
    //       const img = document.createElement('img')
    //       p.innerText = el.title;
    //       img.src = el.firstimage ? el.firstimage : ''
    //       div.appendChild(img);
    //       div.appendChild(p);
    //       div.setAttribute('class', 'site')
    //       div.addEventListener('click', () => {
    //         location.replace(`/site/${el.contentid}`)
    //       })
    //       resultTag.appendChild(div);
    //     });

    //   } catch (error) {
    //     console.error(error)
    //   }
    // })
  </script>
{% endblock %}